<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>BackboneTutorials.com Beginner Video</title>
    <link rel="stylesheet" href="lib/bootstrap.min.css">
</head>

<body>


    <div class="container">
        <h1>LTH</h1>
        <hr />
        <div class="page"></div>
    </div>


    <script src="lib/jquery.min.js" type="text/javascript"></script>
    <script src="lib/underscore-min.js" type="text/javascript"></script>
    <script src="lib/backbone-min.js" type="text/javascript"></script>
    <script src="lib/bootstrap.min.js" type="text/javascript"></script>
    <script src="lib/backbone.localStorage-min.js" type="text/javascript"></script>
    <script src="courses.json" type="text/javascript"></script>


    <script type="text/template" id="home_template">
<table>
    <thead>
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Credits</th>
            <th> </th>
        </tr>
    </thead>
    <tbody>
         <% 
        _.each(data,function(item){
        %>
            <tr>
                <!-- use variables -->
                <td>
                    <%= item.id %>
                </td>
                <td>
                    <%= item.name %>
                </td>
                <td>
                    <%= item.credits %>
                </td>
                <td>
                    <a href="#" class="btn"> LÃ¤gg till</a>
                </td>
            </tr>
            <% }); %>
    </tbody>
</table>
    </script>

    <script type="text/template" id="test_test">
        <%= test %>
    </script>

    <script>
        var Course = Backbone.Model.extend({
            initialize: function () {
                //console.log("Hej hopp");
            }
        });

        var CourseList = Backbone.Collection.extend({
            model: Course,
            localStorage: new Backbone.LocalStorage("courseCollection"),
        });

        var courses = new CourseList();
        courses.add(ourData);

        var TestView = Backbone.View.extend({
            el: '.page',
            render: function () {
                var template = _.template($('#test_test').html());
                this.$el.html(template({
                    test: "Test"
                }));
            },
        });
        testView = new TestView();
        var HomeView = Backbone.View.extend({
            el: '.page',
            render: function () {
                var template = _.template($('#home_template').html());
                this.$el.html(template({
                    data: courses.toJSON(),
                }));
            },
        });
        homeView = new HomeView();

        var Router = Backbone.Router.extend({
            routes: {
                "test": "test",
                "": "home"
            }
        });
        var router = new Router;
        router.on('route:test', function () {
            testView.render();
        })
         router.on('route:home', function () {
            homeView.render();
        })
         Backbone.history.start();
    </script>


</body>

</html>